# Resonix Node Configuration

[server]
# Host/IP to bind. Default: 0.0.0.0
host = "0.0.0.0"
# Port to bind. Default: 2333
port = 2333
# Optional password required in the Authorization header for all requests. Default: unset (no auth)
# password = "supersecret"

[logging]
# Truncate .logs/latest.log on startup. Default: true
clean_log_on_start = true

[resolver]
# Enable resolver for non-direct sources (YouTube/SoundCloud/Spotify). Default: false
enabled = true
# Path or command used to invoke ffmpeg. Default: "ffmpeg"
# ffmpeg_path = "ffmpeg"
# Timeout for resolve/download operations in milliseconds. Default: 20000
timeout_ms = 20000
# If true, Spotify URLs are resolved by title via YouTube search fallback. Default: true
allow_spotify_title_search = true

[spotify]
# --- Spotify Credentials ---
# To enable Spotify source support, you must set these to valid values from your Spotify Developer Portal.
# - You can set environment variables and reference them here or set the values directly.
# See: https://developer.spotify.com/dashboard
client_id = "SPOTIFY_CLIENT_ID"
client_secret = "SPOTIFY_CLIENT_SECRET"

[sources]
# Regex patterns that are allowed. If empty, all are allowed unless blocked.
# Match is tested against both the full URI and the hostname.
# Example: only allow YouTube and local files
# allowed = ["(^|.*)(youtube\\.com|youtu\\.be)(/|$)"]
allowed = []

# Regex patterns that are blocked. These take priority over allowed.
# Example: block SoundCloud completely
# blocked = ["(^|.*)soundcloud\\.com(/|$)"]
blocked = []
